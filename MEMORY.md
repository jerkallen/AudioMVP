# MEMORY.md - 长期记忆

> 最后更新：2026-02-01
> 维护者：Jedi（Allen 的 AI 助手）

---

## 重要位置信息

### 🏠 Allen 的家
- **地址：** 江苏省无锡市滨湖区太湖街道一书一画青少年艺术中心(融创星光广场店)融创星光广场
- **坐标：** 120.28023335205711, 31.484230718577805
- **用途：** 主机所在地，可用于定位和周边查询
- **周边：**
  - 📦 融创星光广场
  - ☕ 瑞幸咖啡(融创星光广场店) - 最近
  - 🍽️ 多家餐厅
- **备注：** 2026-02-01 添加到长期记忆

---

## 重要项目

### 1. TODO 自动监控系统（2026-01-31）
- **文件位置：** `/Users/allen/Nutstore Files/01/Jedi/TODO.md`
- **功能：** 自动完成用户添加的任务，每 30 分钟检查
- **Cron ID：** d277d77c-9201-498d-9454-a19cd5e67c22
- **状态：** 已部署运行（v2，更智能版本）
- **任务格式：** `- [ ] 任务描述`
- **支持任务类型：** 查询天气、搜索信息、文件操作、数据处理等
- **重要改进：**
  - ✅ 不追问、不重复通知
  - ✅ 简洁通知结果，不问"怎么样"
  - ✅ 理解"不回复 = 不需要回复"或"没时间"

### 2. UaesClaw 企业内网部署方案（2026-01-31）
- **项目位置：** `/Users/allen/Nutstore Files/01/Jedi/projects/UaesClaw/`
- **版本：** 1.1（多用户版）
- **核心特性：**
  - 企业内网部署
  - 仅保留飞书通信
  - 使用内部大模型
  - **多用户架构：** 固定 SOUL.md，每个用户独立 MEMORY.md
  - 会话隔离和权限管理
- **文档：** DEPLOYMENT.md（完整部署方案）
- **讨论要点：**
  - web_fetch 可保留，但限制只能访问内网 URL
  - 核心设定（SOUL.md）必须只读，不能被对话修改
  - 分阶段部署：先在外网改造，再部署内网

### 3. LearnWithDaniel - 英语单词学习助手（2026-01-31）
- **项目位置：** `/Users/allen/Documents/Jedi/LearnWithDaniel`
- **目标用户：** Daniel（初二学生，英语前30%）
- **核心痛点：** 时间少、精力不足、单词量大
- **技术栈：** Flask + 通义千问视觉模型 + SQLite
- **核心功能：**
  - 📷 拍照识别单词表（OCR）
  - 🎯 两阶段记忆法（选释义 → 拼写）
  - 🔄 智能复习（错词重复 + 遗忘曲线）
  - 📊 学习进度追踪
- **开发进度：**
  - ✅ 核心架构完成
  - ✅ OCR 功能验证通过（14个单词测试成功）
  - ✅ 响应式设计（电脑/移动端）
  - ✅ 阿里云部署方案准备完成
  - ⏳ 学习流程开发中
- **API Key：** sk-4f256e3502ec42a8b7d14b71e87f1f2b
- **重要经验：**
  - 通义千问比国外模型更适合国内场景（访问稳定）
  - 响应式设计对移动端用户体验至关重要
  - 快速原型验证 > 完美设计
  - 参考用户之前的代码（RaspiCartServer）能更好理解风格

### 4. prompts-collection（2026-01-31）
- **位置：** `/Users/allen/Nutstore Files/01/Jedi/prompts-collection.md`
- **用途：** 收集有用的提示词模板
- **状态：** 已创建

---

## 工作和技术

### 工作背景
- **职位：** 汽车零部件制造企业智能制造专家
- **技术领域：**
  - 机器视觉和 AI 视觉检测
  - 数据挖掘与可视化
  - 预测性维护
- **Python 开发：** 小应用开发，持续学习中

### 开发习惯
- **Vibe coding 爱好者**
- **AI 工具：** deepseek, chatgpt, cursor, kimi, Qwen
- **常用模型：** GLM-4.7
- **工具演进：** cursor → opencode
- **工作风格：** 同时构思多个项目，方案成熟后一次性开发完成

### 技术栈
- **Python 版本：** Python 3.12（`python3.12` 或 `python3.12 -m pip`）
- **主要领域：**
  - 计算机视觉
  - 数据分析
  - 自动化脚本
- **大模型工具：**
  - **通义千问（qwen-vl-plus）：** 视觉模型，OCR 识别
  - **GLM-4.7：** 常用模型
  - **优势：** 国内访问稳定，不需要翻墙
  - **应用场景：** 视觉识别、OCR、内容生成

---

## 文件权限

### 专属文件夹（完全自由）
- **路径：** `/Users/allen/Documents/Jedi`
- **权限：** 可以自由操作（新增、删除、修改）
- **用途：** 临时文件、脚本、开发工作

### 工作输出文件夹（同步云端）
- **路径：** `/Users/allen/Nutstore Files/01/Jedi`
- **权限：** 可以自由操作
- **特性：** 坚果云自动同步，跨平台可访问
- **用途：** 保存输出文档（md 等）、报告、指南

### 其他位置
- **操作：** 删除或修改需要**明确同意**
- **读取：** 任何地方都可以读取

### 项目文件夹结构
```
/Users/allen/Nutstore Files/01/Jedi/
├── TODO.md                    # 待办清单（自动监控）
├── prompts-collection.md      # 提示词收集
├── 英语单词学习助手_PRD.md    # LearnWithDaniel 产品需求文档
└── projects/                  # 项目文档
    └── UaesClaw/             # 企业内网部署项目
        └── DEPLOYMENT.md      # 完整部署方案

/Users/allen/Documents/Jedi/
└── LearnWithDaniel/           # 英语单词学习助手项目
    ├── app.py                 # Flask 主应用
    ├── qwen_vl.py            # 通义千问集成
    ├── deploy.sh             # 自动部署脚本
    ├── DEPLOY_TO_ALIYUN.md   # 阿里云部署指南
    └── CHANGELOG.md          # 开发日志
```

---

## 安全规则

### 🔒 绝对规则
- **API key 绝不外传** - 不能上传至任何此电脑以外的其他地方
- **GitHub 安全：**
  - ✅ 可以新建项目
  - ❌ 不要动原来的项目
  - 🔒 API keys 绝不能上传到 GitHub
  - 🔐 敏感配置文件要加入 .gitignore

### GitHub 配置
- **账号：** jerkallen
- **本地配置：** Allen (89628895@qq.com)
- **gh CLI：** 未登录（需要 `gh auth login`）

---

## 沟通偏好

### 回复风格
- ✅ **简洁为主**（不要啰嗦）
- ✅ **自然灵活，不要太死板**
- ✅ **主动建议**（不要等，看到机会就直接提）
- ✅ **不确定时询问**
- ✅ **没有实质性内容就不用发消息**（避免打扰）
- ❌ **不要机械套用格式**（如每次都列 ⭐⭐⭐⭐⭐）

### 提建议的方式
- 需要时可以给出多个选择
- 可以说明推荐理由
- 但要自然，不要每次都套同样格式

### 目标
- 帮助继续 vibe coding 和 AI 技术应用之旅

### 重要更新（2026-01-31）
- 撤销了"必须格式化建议"的规则
- 改为：简洁自然，灵活处理
- **新增：理解"不回复"的含义**
  - 不回复 = 不需要回复（任务完成就行）
  - 或者 = 没时间回复（稍后再说）
  - ✅ 不要因为不回复而反复询问
  - ✅ 完成任务后简洁通知结果，不要追问

---

## 重要路径

### Jedi 的文件夹
- **Working Folder:** `/Users/allen/Documents/Jedi`
- **Output Folder:** `/Users/allen/Nutstore Files/01/Jedi`

### OpenClaw 相关
- **配置文件：** `~/.openclaw/openclaw.json`
- **工作区：** `~/.openclaw/workspace/`
- **记忆文件：** `~/.openclaw/workspace/memory/YYYY-MM-DD.md`
- **凭证文件：** `~/.openclaw/credentials/`

---

## 自动化任务

### 定时任务
1. **OpenClaw 更新检查**
   - 频率：每天 22:00
   - Cron ID：499b300e-b95b-4c37-9631-5868ead4f7d9

2. **TODO 自动监控**
   - 频率：每 30 分钟
   - Cron ID：acaf1830-9060-4baa-98f6-ebecd573c41b

---

## 已讨论的重要话题

### 快速开发方法论（2026-01-31）

**从想法到原型的节奏：**
1. **Thinking Partner 模式** - 理清需求（30分钟）
   - 通过提问引导，而非直接给方案
   - 帮助用户明确核心功能和优先级
   - 生成 PRD 文档
2. **技术选型** - 选择合适的工具（15分钟）
   - 优先考虑访问稳定性（如通义千问 vs GPT-4V）
   - 参考用户已有的代码风格
3. **快速开发** - 核心功能原型（1-2小时）
   - 先实现主要流程，不追求完美
   - 响应式设计（电脑/移动端）
   - 尽早测试验证
4. **部署准备** - 准备长期使用方案（30分钟）
   - 自动化脚本（deploy.sh）
   - 完整文档

**适用场景：**
- 新项目启动
- 功能验证
- 快速原型

**关键原则：**
- ✅ 完成比完美更重要
- ✅ 早期验证胜过过度设计
- ✅ 参考现有代码和架构
- ✅ 用户体验优先（响应式设计）

### 企业内网部署（UaesClaw）
- **核心需求：** 多用户共享，核心设定固定
- **解决方案：**
  - SOUL.md 只读（root:root 444）
  - 每个用户独立的 MEMORY.md
  - 会话隔离和权限管理
  - web_fetch 限制只能访问内网 URL
- **部署阶段：**
  1. 外网改造和测试
  2. 内网部署
- **文档：** 完整部署方案已生成

### TODO 自动监控
- **需求：** 盯着 TODO.md，自动完成任务
- **实现：** Cron 定时任务 + 子 Agent
- **格式：** `- [ ] 任务描述`
- **通知：** 完成后飞书通知

---

## 改进点

### 已实施的改进

**1. 会话上下文恢复（2026-01-31）**
- ✅ 更新 AGENTS.md：每次会话开始时读取记忆文件
- ✅ 扫描已讨论话题，避免重复回答
- ✅ 使用方案2：手动读取，不依赖 memory_search
- **工作流程：**
  1. 读取 SOUL.md
  2. 读取 USER.md
  3. 读取今天和昨天的 memory/YYYY-MM-DD.md
  4. 读取 MEMORY.md（仅主会话）
  5. 识别已讨论的话题
  6. 避免重复回答

**2. 记忆管理**
- 重要讨论记录到 MEMORY.md
- 每日记录保存在 memory/YYYY-MM-DD.md
- 定期整理和更新长期记忆

---

## 待补充信息

### 工作相关
- 当前具体项目
- 常用技术栈详情（库、框架）
- 开发环境配置
- 数据源类型

### 个人偏好
- 工作时间段（避免打扰）
- 响应期望
- 任务优先级
- 项目类型偏好

### 工具和资源

**云服务：**
- **阿里云服务器：** 包年付费，可用于部署应用
- **访问限制：** 无法使用 clash（无需翻墙的应用可以直接部署）
- **适用场景：** LearnWithDaniel 等使用国内 API 的应用

**API 密钥：**
- **通义千问 API Key：** sk-4f256e3502ec42a8b7d14b71e87f1f2b
- **存储位置：** 各项目的 .env 文件
- **安全规则：** 绝不上传到 GitHub 或任何外部服务

**开发参考：**
- **RaspiCartServer：** 智能巡检小车项目（GitHub：jerkallen/RaspiCartServer）
  - 学习了后端架构设计
  - DashScope 调用方式
  - 后台线程池处理模式
- **Qwerty Learner：** 单词记忆与肌肉记忆训练（参考 UI 设计）

**团队协作：**
- 家庭技术支持（Daniel 的学习工具）
- 企业内网部署（UaesClaw）

---

*此文件是长期记忆，会持续更新。*
